{% extends 'base.html.twig' %}

{% block title %}Stuvent{% endblock %}


{% block body %}
    <div class="about-text" >
    <h2>Aanwezigheid</h2>
        <hr>

        {% for event, userEventsByEvent in userEvents %}
    <button class="accordion"> {{ userEventsByEvent.event.title }}</button>
    
    <div class="panel">
        <table>
            <thead>
            <tr>

                <th class="enrollTableHeader">Studentnummer</th>
                <th class="enrollTableHeader">Naam</th>
                <th class="enrollTableHeader">Opleiding</th>
                <th class="enrollTableHeader">Presentie</th>

            </tr>
            </thead>
            <tbody>
            {% for userevents in userEvents %}
                <tr>
                    <td>{{ userevents.user.studentnumber }}</td>
                    <td>{{ userevents.user.lastName }} , {{ userevents.user.firstName }}</td>

                    <td{{ userevents.user.lastName }} </td>
                    <td>{{ userevents.user.opleiding.name }}</td>
                    <td>

                        <form method="POST" action="{{ path('present', {'id': userevents.id}) }}">
                            <input type="hidden" name="id" value="{{ userevents.id }}">
                            <button class="buttondiv1 decide" type="submit">Ja</button>
                        </form>
                        <form method="POST" action="{{ path('absent', {'id': userevents.id}) }}">
                            <input type="hidden" name="id" value="{{ userevents.id }}">
                            <button class="buttondiv2 decide" type="submit">Nee</button>
                        </form>
                    </td>


                </tr>
            {% endfor %}
            </tbody>
        </table>

    </div>
{% endfor %}
    </div>
    <script>
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
    </script>


{% endblock %}